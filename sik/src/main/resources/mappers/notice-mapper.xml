<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="noticeMapper">

	<resultMap id="resultNotice" type="Notice">
		<id property="noId" column="NO_ID" />
		<result property="memberId" column="MEMBER_ID" />
		<result property="brandId" column="BRAND_ID" />
		<result property="noCdate" column="NO_CDATE" />
		<result property="noUdate" column="NO_UDATE" />
		<result property="noDdate" column="NO_DDATE" />
		<result property="noFile" column="NO_FILE" />
		<result property="noVcount" column="NO_VCOUNT" />
		<result property="noCon" column="NO_CON" />
		<result property="noTitle" column="NO_TITLE" />
	</resultMap>
	
	
	<resultMap id="resultBrandNotice" type="BrandNotice">
		<id property="noId" column="NO_ID" />
		<result property="memberName" column="MEMBER_NAME" />
		<result property="brandName" column="BRAND_NAME" />
		<result property="noCdate" column="NO_CDATE" />
		<result property="noUdate" column="NO_UDATE" />
		<result property="noDdate" column="NO_DDATE" />
		<result property="noFile" column="NO_FILE" />
		<result property="noVcount" column="NO_VCOUNT" />
		<result property="noCon" column="NO_CON" />
		<result property="noTitle" column="NO_TITLE" />
	</resultMap>
	
	
	<select id="selectListCount" resultType="_int">
		select count(*) from notice
	</select>
	<select id="selectList" parameterType="Paging" resultMap="resultBrandNotice">
		select * from
			(select rownum rnum, NO_ID,MEMBER_NAME,BRAND_NAME,NO_CDATE,NO_UDATE,NO_DDATE,NO_FILE,NO_VCOUNT,NO_CON,NO_TITLE
			from(select NO_ID,MEMBER_NAME,BRAND_NAME,NO_CDATE,NO_UDATE,NO_DDATE,NO_FILE,NO_VCOUNT,NO_CON,NO_TITLE
					from notice
					join BRAND using(BRAND_ID)
					join member using(member_id)))
			where rnum BETWEEN #{startRow} and #{endRow}
	</select>
</mapper>